# ============================================
# 서버 설정
# ============================================
server.servlet.encoding.charset=UTF-8
server.servlet.encoding.force=true

# 세션 설정
server.servlet.session.tracking-modes=cookie
server.servlet.session.cookie.same-site=none
server.servlet.session.cookie.secure=true
server.servlet.session.timeout=1800

# ============================================
# 환경 설정 파일
# ============================================
spring.config.import=optional:file:application-env.properties

# ============================================
# 데이터베이스 설정
# ============================================
# H2 데이터베이스 (개발용)
spring.datasource.driver-class-name=org.h2.Driver
spring.datasource.url=jdbc:h2:mem:testdb
spring.datasource.username=sa
spring.datasource.password=

# MySQL 설정 (환경 변수가 설정된 경우 주석 해제)
# spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver
# spring.datasource.url=jdbc:mysql://${DB_IP}:${DB_PORT}/${DB_NAME}?useSSL=false&allowPublicKeyRetrieval=true&useUnicode=true&serverTimezone=Asia/Seoul
# spring.datasource.username=${DB_USERNAME}
# spring.datasource.password=${DB_PASSWORD}

# H2 콘솔
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console

# ============================================
# SQL 초기화 설정
# ============================================
spring.sql.init.schema-locations=classpath:schema.sql
spring.sql.init.data-locations=classpath:data.sql
spring.sql.init.mode=embedded

# ============================================
# MyBatis 설정
# ============================================
mybatis.mapper-locations=classpath:mapper/*.xml
mybatis.config-location=classpath:mybatis-config.xml
mybatis.configuration.map-underscore-to-camel-case=true
mybatis.configuration.arg-name-based-constructor-auto-mapping=true

# ============================================
# CORS 설정
# ============================================
config.allowed-origins=${ALLOWED_ORIGINS:http://localhost:3000,http://localhost:8080}

# ============================================
# Spring Boot DevTools 설정
# ============================================
spring.devtools.restart.enabled=true
spring.devtools.livereload.enabled=true
spring.devtools.restart.poll-interval=2s
spring.devtools.restart.quiet-period=1s

# ============================================
# Springdoc OpenAPI 설정
# ============================================
springdoc.api-docs.path=/api-docs
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.swagger-ui.operationsSorter=method
springdoc.swagger-ui.tagsSorter=alpha
springdoc.default-consumes-media-type=application/json
springdoc.default-produces-media-type=application/json
springdoc.show-actuator=false

# Redoc UI는 정적 리소스로 제공됩니다 (/redoc.html)
